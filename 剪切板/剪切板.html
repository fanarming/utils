<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<meta name="author" content="Arming">
	<title>随便例子</title>
	<style>
	*{margin: 0;padding: 0;text-decoration: none;}
	.zuo{display:inline-block;width:200px;height:300px;background:#f00;}
	.you{display:inline-block;width:200px;height:500px;background:#666;}
	</style>	
	<script src="../js/jquery.min.js"></script>
	<script>
		//剪切板加文章链接
		function clipBoard() {
			if (!window.getSelection || !document.querySelector(".content")) return;	
		    //获取选中的HTML
		    var getSelectedContents = function () {
		        if (window.getSelection) { //chrome、firefox
		            var range = window.getSelection().getRangeAt(0);
		            var container = document.createElement('div');
		            container.appendChild(range.cloneContents());
		            return container.innerHTML;
		        } else if (document.selection) { //IE
		            return document.selection.createRange().htmlText;
		        }
		    };
		    document.querySelector(".content").addEventListener("copy", function(e) {
		        var selection = window.getSelection(),
		                copyUrl = location.href,
						elem = document.createElement("div");
				elem.innerHTML = getSelectedContents() + "<br/>" + "本文转自有宠网：" + copyUrl;
				elem.cssText = "position:absolute;left:-99999px;";
				document.body.appendChild(elem);
		        selection.selectAllChildren(elem);
		        setTimeout(function () {
		            elem.remove();
		        }, 0);
		    });
		}
		clipBoard();
	</script>
</head>
<body >
<div class ="zuo"></div><div class ="you"></div>
</body>
</html>